<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/addons/p5.sound.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8" />

</head>

<body>
  <script>
    window.addEventListener('keydown', (e) => {
      if (e.keyCode === 32 && e.target === document.body) {
        e.preventDefault();
      }
    });
    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }
  </script>
  <main>
  </main>
  <div class="overlay">

    <!-- Help Button -->
    <button id="helpButton">?</button>

    <!-- Modal -->
    <div id="shortcutsModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <div class="scroll-area">
          <h3>Keyboard Shortcuts</h3>
          <p><strong>Enter</strong> to switch between modes :</p>
          <ul>
            <li><strong>Selection (default)</strong>
              <ul>
                <li><strong>a </strong>add child</li>
                <li><strong>d </strong>delete<br /><br /></li>
                <li><strong>y&nbsp;</strong>copy&nbsp;</li>
                <li><strong>p&nbsp;</strong>paste<br /><br /></li>
                <li><strong>s&nbsp;</strong>Overwrite</li>
                <li><strong>i&nbsp;&nbsp;</strong>Insertion<br /><br /></li>
                <li><strong>g &lt;num&gt; &lt;enter&gt; </strong>goto node</li>
                <li><strong>e</strong>/<strong>b&nbsp;</strong>navigate nodes<br /><br /></li>
                <li><strong>&lt;Shift&gt; j &lt;num&gt; &lt;enter&gt;&nbsp;</strong>Join/Connect&nbsp;</li>
                <li><strong>&lt;Shift&gt; x &lt;num&gt;</strong> remove connection from&nbsp;<br /><br /></li>
                <li><strong>t&nbsp;</strong>toggle border/borderless<br /><br /></li>
              </ul>
            </li>
            <li><strong>Translate</strong>
              <ul>
                <li><strong>H</strong>/<strong>J</strong>/<strong>K</strong>/<strong>L </strong>keys to move the node
                  around</li>
              </ul>
            </li>
          </ul>
          <p><strong>&lt;Esc&gt;&nbsp;</strong>to deselect</p>
          <ul>
            <li><strong>a</strong> add child at cursor</li>
            <li><strong>g &lt;num&gt; &lt;enter&gt;&nbsp;</strong>goto node</li>
          </ul>
          <p><br /><strong>o&nbsp;</strong>load vigraph from system<br /><strong>w </strong>save vigraph to system</p>
          <p>&nbsp;</p>
        </div>
      </div>
    </div>

    <script>
      const helpButton = document.getElementById('helpButton');
      const modal = document.getElementById('shortcutsModal');
      const _closeModal = document.getElementById('closeModal');

      helpButton.onclick = () => {
        modal.style.display = 'block';
      };

      _closeModal.onclick = () => {
        modal.style.display = 'none';
      };

      window.onclick = (event) => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      };

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          modal.style.display = 'none';
        }
      });
    </script>




    <b>Mode : </b>
    <span id="mode">Selection</span>
    <!--       
      <span>&nbsp;|&nbsp;&nbsp;&nbsp;</span>
      <b>Controls :</b> 
      selection
      a (add)
      d (remove)
      y (copy)
      p (paste)
      b/e (switch)
      goto
      g&lt;number&gt;(goto node)
      translate
      h/j/k/l (movement)
      J (join)    
-->

  </div>


  <!-- The Modal -->
  <div id="modal">
    <div id="modal-content">
      <!--             <p>Output copied to clipboard</p> -->
      <textarea rows="4" cols="50" id="output-area">
            </textarea>
      <br>
      <!--             <button onclick="closeModal()">OK</button> -->
    </div>
  </div>
  <script src="sketch.js"></script>
</body>

</html>